FROM adoptopenjdk/openjdk11:jdk-11.0.11_9-alpine
WORKDIR /opt
RUN apk update && apk upgrade && apk add bash
RUN apk --no-cache add procps
EXPOSE 8080-8090
EXPOSE 7077
EXPOSE 4040
COPY . /opt/SparkDir
ENV SPARK_HOME=/opt/SparkDir
ENV HADOOP_HOME=$SPARK_HOME
ENV PATH=$PATH:$SPARK_HOME:$SPARK_HOME/bin
CMD spark-shell --conf spark.ui.enabled=true --conf spark.ui.port=4040